<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Pardallis</title>
    <link rel="shortcut icon" href="../public/icons marco/logo.svg" type="image/x-icon">
    <link rel="stylesheet" href="css/cssmarco.css">
    <link rel="stylesheet" href="css/login-cadastro.css">
    <link rel="stylesheet" href="./css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/1ab94d0eba.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
</head>
<body>
  
  <div class="container-intermedio">
    <img src="./icons marco/bell-solid.svg" alt="" style="height: 2rem; margin-top: 1rem;">
    <img src="./icons marco/chart-line-solid.svg" alt="" style="height: 2rem;">
    <img src="./icons marco/house-solid.svg" alt="" style="height: 2rem;">
    <img src="./icons marco/bell-solid.svg" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 4rem;">
    
    <img src="" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 2rem;">
    <img src="../../Site/public/assets/imgs/logo.png" alt="" style="height: 2rem;">
  </div>
  <!-- <div class="fundo">
    <div class="header">
        <div class="container d-flex my-2 w-100">
            <a href="index.html" class="titulo">
                <img class="logo" src="./assets/imgs/logo.png" alt="" draggable="false"> Mudar com media 

            </a>
            <ul class="register">
                <li>
                    <a class="font-nav fw-bolder">Home</a>
                </li>
                <li>
                    <a class=" font-nav" href="./planos.html">Planos</a>
                </li>
                <div class="v-hr"></div>
                <li>
                    <img class='img-icon-user' src="http://cdn.onlinewebfonts.com/svg/img_184513.png" alt="" draggable="false">
                </li>
                <li>

                    <button class="ms-1 btn fw-semibold login-botao"
                        onclick="redirectUserToLogin()">Cadastrar</button>
                </li>

            </ul>
        </div>
    </div> 
    </div>-->
    
    <div class="container-um">
        <b class="letras" style="margin-top: 1rem;">Perfil</b>
        <b class="letras">Dashboard</b>
        <b class="letras">Home</b>
        <b class="letras">Alerts</b>
        <b class="letras"></b>
        <b class="letras"></b>
        <b class="letras"></b>
        <b class="letras"></b>
        <b class="letras"></b>
        <b class="letras"></b>
        <b class="letras">Sair</b>


    </div>
    
    <div class="container-dois">
        <div class="grafico-principal">
            
              <canvas id="myChart" class="grafico"></canvas>
                
            
        </div>
        <div class="kpis">
        <div class="temp-um">

          <canvas id="primo" class="grafico-um"></canvas>   
                 
        </div>
        <div class="temp-dois">

          <canvas id="secu" class="grafico-um"></canvas>
        
        </div>
        <div class="temp-tres">

          <canvas id="terc" class="grafico-um"></canvas>

        </div>
        </div>
        
    </div>
    <div id="despir"></div>
  
    
</body>
</html>


<script>
  var teste;
  var id=[];
  var temperatura = [];
  var ram = [];
  var frequencia = [];
  fetch("/medidas/ultimas/1", {
    method: "GET",
    headers: {
        "content-Type": "application/json"
    }
    
  }).then(

    (res) => {
      res.json()
      .then(
        (json) => {
          json.array.forEach(linha => {
              
            id.push(linha.idCPU);
            temperatura.push(linha.temperatura);
            ram.push(linha.ram);
            frequencia.push(linha.frequencia);
          });
          console.log(json)
          teste = json;
        }
      )
    }  
  
  )
    despir.innerHTML 
  
</script>

<script>
    let ctx = document.getElementById('myChart');
    let chart = new Chart(ctx, {
    type: 'line',
    data: {labels: ['1H', '2H', '3H', '4H', '5H', '6H', '7H'],
    datasets:[{
        // Legenda
        label: 'temperatura da CPU principal',
        // Define-se a cor da linha.
        borderColor: 'rgb(57,255,20)',
        // Dados a serem inseridos nas barras
        data: [temperatura],
    }]},
    options: {
      elements: {
        line: {
            tension: 0
        }
    }
    }
});

  let primeiro = document.getElementById('primo')
  let primus = new Chart(primeiro, {
    type: 'doughnut', 
    data: {labels: ['Temperatura CPU2 em °C'], 
  datasets: [{
    label: 'Uso da CPU',
    backgroundColor:['rgb(250, 237, 39)'],
    data:[ram]
  }]}
  });

  let segundo = document.getElementById('secu')
  let secus = new Chart(segundo, {
    type: 'doughnut', 
    data: {labels: ['Temperatura CPU3 em °C'], 
  datasets: [{
    label: 'Uso da CPU',
    backgroundColor:['rgb(255, 0, 0)'],
    data:[90, 20]
  }]}
  });

  let terceiro = document.getElementById('terc')
  let tercius = new Chart(terceiro, {
    type: 'doughnut', 
    data: {labels: ['Temperatura CPU4 em °C'], 
  datasets: [{
    label: 'Uso da CPU',
    backgroundColor:['rgb(57, 255, 20)'],
    data:[30,80],
      
  }]}
  });

</script>